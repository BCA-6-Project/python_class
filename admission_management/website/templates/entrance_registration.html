
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Student Registration</title>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <style>
    body {
      background: #f5f7fa;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    nav {
      background: linear-gradient(90deg, #0062E6, #33AEFF);
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    nav .logo {
      color: #fff;
      font-size: 1.7rem;
      font-weight: bold;
    }

    nav ul {
      list-style: none;
      display: flex;
      gap: 1.5rem;
      margin: 0;
      padding: 0;
    }

    nav ul li a {
      color: #fff;
      text-decoration: none;
      font-weight: 500;
      transition: color 0.3s ease;
    }

    nav ul li a:hover {
      color: #ffd700;
    }

    .nav-tabs .nav-link.active {
      background-color: #0d6efd;
      color: white;
    }

    .card {
      margin-top: 40px;
      border-radius: 1rem;
      box-shadow: 0 4px 16px rgba(0,0,0,0.1);
    }

    .tab-content {
      padding-top: 20px;
    }

    label {
      font-weight: 500;
    }

    .btn-primary {
      background-color: #0d6efd;
      border: none;
    }

    .btn-primary:hover {
      background-color: #0056d2;
    }
  </style>
</head>
<body>

  <!-- Colorful Navigation Bar -->
  <nav>
    <div class="logo">College Admission Portal</div>
    <ul>
      <li><a href="{% url 'web_home_page' %}">Home</a></li>
      <li><a href="{% url 'web_registration' %}">Register</a></li>
      <li><a href="{% url 'student_verification' %}">Verify</a></li>
      <li><a href="{% url 'mcq' %}">Entrance Test</a></li>
      <li><a href="{% url 'result' %}">Results</a></li>
    </ul>
  </nav>

  <!-- Registration Form -->
  <div class="container">
    <div class="card p-4">
      <h3 class="text-center mb-4">Student Registration</h3>

      <ul class="nav nav-tabs" id="registrationTabs" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="personal-tab" data-bs-toggle="tab" data-bs-target="#personal" type="button" role="tab">Personal Details</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="registration-tab" data-bs-toggle="tab" data-bs-target="#registration" type="button" role="tab">Registration Details</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="academic-tab" data-bs-toggle="tab" data-bs-target="#academic" type="button" role="tab">Academic Details</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="documents-tab" data-bs-toggle="tab" data-bs-target="#documents" type="button" role="tab">Documents</button>
        </li>
      </ul>

      <form action="{% url 'web_registration' %}" method="POST" enctype="multipart/form-data">
        {% csrf_token %}

        <div class="tab-content" id="registrationTabsContent">

          <!-- Personal Details -->
          <div class="tab-pane fade show active" id="personal" role="tabpanel">
            <div class="row g-3">
              <div class="col-md-6">
                <label>Full Name</label>
                <input type="text" name="full_name" class="form-control" required>
              </div>
              <div class="col-md-6">
                <label>Contact</label>
                <input type="text" name="contact" class="form-control" required>
              </div>
              <div class="col-md-6">
                <label>Email</label>
                <input type="email" name="email" class="form-control" required>
              </div>
              <div class="col-md-6">
                <label>Address</label>
                <input type="text" name="address" class="form-control" required>
              </div>
              <div class="col-md-6">
                <label>Gender</label>
                <select name="gender" class="form-select" required>
                  <option value="" selected disabled>-- Select Gender --</option>
                  {% for val in genderList %}
                    <option value="{{ val.id }}">{{ val.name }}</option>
                  {% endfor %}                  
                </select>
              </div>
            </div>
          </div>

          <!-- Registration Details -->
          <div class="tab-pane fade" id="registration" role="tabpanel">
            <div class="row g-3">
              <div class="col-md-6">
                <label>Program</label>
                <select name="program" id="program_id" class="form-select" required>
                  <option value="" selected disabled>-- Select Program --</option>
                  {% for val in programList %}
                  <option value="{{ val.id }}">{{ val.name }}</option>
                  {% endfor %}
                </select>
              </div>
              <div class="col-md-6">
                <label>Level</label>
                <select name="level" id="level_id" class="form-select" required>
                </select>
              </div>
            </div>
          </div>

          <!-- Academic Details -->
          <div class="tab-pane fade" id="academic" role="tabpanel">
            <div class="row g-3">
              <div class="col-md-6">
                <label>Program</label>
                <select name="past_program" class="form-select" required>
                  <option value="" selected disabled>-- Select Program --</option>
                  {% for val in programList %}
                  <option value="{{ val.id }}">{{ val.name }}</option>
                  {% endfor %}
                </select>
              </div>
              <div class="col-md-6">
                <label>School/College</label>
                <input type="text" name="school_college" class="form-control" required>
              </div>
              <div class="col-md-6">
                <label>Board</label>
                <input type="text" name="board" class="form-control" required>
              </div>
              <div class="col-md-6">
                <label>Status</label>
                <input type="text" name="status" class="form-control" required>
              </div>
              <div class="col-md-6">
                <label>Percentage</label>
                <input type="text" name="percentage" class="form-control" required>
              </div>
            </div>
          </div>

          <!-- Document Upload -->
          <div class="tab-pane fade" id="documents" role="tabpanel">
            <div class="row g-3">
              <div class="col-md-6">
                <label>Document Name</label>
                <!-- <input type="text" name="document_name" class="form-control" required> -->
              </div>
              <div class="col-md-6">
                <label>Attach Document</label>
                <!-- <input type="file" name="document_attachment" class="form-control" required> -->
              </div>
            </div>
            <div class="text-end mt-4">
              <button type="submit" class="btn btn-primary">Submit Registration</button>
            </div>
          </div>

        </div>
      </form>
    </div>
  </div>

 
<script>

  $('#program_id').on('change', function () {
    var categoryId = $(this).val();
    
    if (categoryId) {
      $.ajax({
        url: "{% url 'get_program_level' %}",
        data: {
          'program_id': categoryId
        },
        success: function (response) {
          let subcategorySelect = $('#level_id');
          subcategorySelect.empty();
          subcategorySelect.append('<option value="" disabled selected>-- Select Level --</option>');
          console.log(response)

          $.each(response.levelData, function (i, item) {
            subcategorySelect.append($('<option>', {
              value: item.id,
              text: item.name
            }));
          });
        }
      });
    } else {
      $('#level_id').empty().append('<option value="" disabled selected>-- No Data Found --</option>');
    }
  });
</script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
